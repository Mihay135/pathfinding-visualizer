/* src/PathfindingVisualizer/Cell/Cell.css */
.cell {
  border: 1px solid hsla(0, 100%, 94%, 0.9);
  background-color: hsl(223, 100%, 87%);
  color: #333;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 0.7rem;
  user-select: none;
}

body.dark-mode .cell {
  border: 1px solid hsla(0, 1%, 26%, 0.9);
  background-color: hsl(223, 20%, 20%);
  color: #ecf0f1;
}

:root {
  --weight-color-1: #36d779;
  --weight-color-5: #f39c12;
  --weight-color-10: #e67e22;
  --weight-color-20: #ff6b6b;
}

.cell:hover {
  filter: brightness(1.1);
}

.cell.wall {
  background-color: #c0392b !important;
  color: white;
  border: 1px solid #b61806;
  border-radius: 1px;
}

.cell.start { 
  background-color: #269454 !important;
  color: white;
  border: 2px solid #07652e;
  border-radius: 2px;
}

.cell.goal {
  background-color: #ff6200 !important;
  color: #2c3e50;
  border: 2px solid #d55200;
  border-radius: 2px;
}

/* Bidirectional Visited */
.cell.visited-start {
  background-color: #81ecec !important;
  animation: popStart 0.3s ease-out;
}
.cell.visited-goal {
  background-color: #fab1a0 !important;
  animation: popGoal 0.3s ease-out;
}

/* Standard visited */
.cell.visited { 
  background-color: #29b783 !important; 
  animation: pop 0.3s ease-out;
}

.cell.path { 
  background-color: #f39c12 !important; 
  animation: snake 0.4s ease-in-out forwards; 
  z-index: 2; 
}
.cell.current { 
  background-color: #fffacd !important; 
  animation: pulse 0.5s ease-in-out; 
  z-index: 3; 
}

/* Animations */
@keyframes pop {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); box-shadow: 0 0 12px rgba(0,0,0,0.3); }
  100% { transform: scale(1); }
}

@keyframes popStart {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); box-shadow: 0 0 12px #81ecec; }
  100% { transform: scale(1); }
}

@keyframes popGoal {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); box-shadow: 0 0 12px #fab1a0; }
  100% { transform: scale(1); }
}

@keyframes snake {
  0% { transform: scale(0.7); background-color: #f1c40f; }
  100% { transform: scale(1); background-color: #f39c12; }
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); box-shadow: 0 0 16px #fffacd; }
  100% { transform: scale(1); }
}

/* Dark mode overrides */
body.dark-mode .cell.visited { background-color: #16a085 !important; }
body.dark-mode .cell.path { background-color: #e67e22 !important; }
body.dark-mode .cell.current { background-color: #f9e79f !important; }